# デリゲーターについて  
どのように、Cosmos Voyagerを用いて、Atomをバリデーターにステークすることにより報酬を得るかを学びます。  

## デリゲーターとはなにか？  
バリデーターの作業をできないもしくはしたくない人々も、デリゲーターとしてステーキングのプロセスに参加することができます。実際、バリデーターは自身のステークに基づいて選ばれるのではなく、総ステーク、すなわち、自身のステークそしてデリゲーターに委任されたステークの合計に基づき選ばれます。これは、デリゲーターが不正な挙動を示すバリデーターに対する安全装置になる重要な特性です。もしバリデーターが不正な挙動をすると、バリデーターに委任しているデリゲーターはAtomをバリデーターから移動させ、それによってステークが縮小します。結果、もしバリデーターのステークが、多くのステークを持つアドレス上位100位から転落すると、バリデーター集団から退出します。  

デリゲーターは委任しているバリデーターの報酬を共有しますが、リスクも共有します。報酬の観点では、バリデーターは、報酬が分配される前に、バリデーターに委任しているデリゲーターに届く報酬に手数料を課せられるという点で、バリデーターとデリゲーターには違いがあります。この手数料は前もってデリゲーターに知られ、前もって定義された制約によってのみ変更することができます(後述するセクションをみてください)。リスクの観点では、デリゲーターが委任しているバリデーターがもし不正な挙動をすると、デリゲーターのAtomは没収されうるといえます。詳しくは、リスクについてのセクションをみてください。  

デリゲーターになるには、Atom保有者はCosmos Voyagerから「Bond transaction」を送る必要があります。Cosmos Voyagerでは、いくらだけAtomを担保にするか、そしてどのバリデーターに担保するかが指定されます。バリデーター候補者のリストはCosmos Voyagerに表示されます。のちにもしデリゲーターがステークの一部もしくは全部を担保から取り戻したいとき、「Unbond transaction」を送る必要があります。そこからデリゲーターはAtomを取り戻すのに3週間待たなければなりません。  

## バリデーターを選択する  
バリデーターを選択するため、デリゲーターはCosmos Voyagerにて直接、様々な情報を利用することができます。
- バリデーターの名前: バリデーター候補者が立候補を宣言した時に選択した名前
- バリデーターの詳細情報: バリデーター候補者が立候補を宣言した時に表明した詳細情報
- バリデーターのウェブサイト: バリデーターのウェブサイトへのリンク
- 初期手数料率: いかなるデリゲーターにも課せられる報酬への手数料率(詳しくは後述します)
- 手数料変化率: バリデーターの手数料の1日あたりの最大変化率
- 最大手数料率: バリデーター候補者が課すことのできる最大の手数料率
- 最小自己担保量: いかなるときもバリデーター候補者が担保しなければならない最小の量。もしバリデーターの自己担保ステークが制限を下回ると、ステーキングプール全体(すなわち、すべてのデリゲーター)は担保から戻されます。このパラメーターはデリゲーターのための安全装置として存在します。実際、もしあるバリデーターが不正な挙動をすると、そのバリデーターの総ステークの一部が没収されます。これにはデリゲーターの担保と同様、バリデーターの自身の担保も含まれます。それゆえ、多くの自己担保Atomをもつバリデーターは、自己担保が少ないバリデーターよりも「スキン・イン・ザ・ゲーム」すなわち自己資金投資をしていることになります。最小自己担保量のパラメーターは、ある量の自己担保ステークの量をバリデーターが下回ることがないということをデリゲーターに保証し、それによって「スキン・イン・ザ・ゲーム」すなわち自己資金投資の最小水準を保証します。

## デリゲーターのやるべきこと  
デリゲーターになるということは、受動的な仕事ではありません。以下がデリゲーターがやるべきことです。
- 委任する前にバリデーターに慎重なデューディリジェンスを行う。もしバリデーターが不正な挙動をすると、デリゲーターのステークを含むそのバリデーターの総ステークが没収されうるといえます。それゆえデリゲーターは正しい挙動をするだろうと考えるバリデーターを慎重に選ぶべきです。
- 委任した後、積極的にバリデーターを監視する。デリゲーターは委任しているバリデーターが正しい挙動をする、つまり稼働時間が良好であること、ハックされていないこと、そしてガバナンスに参加していることを確信すべきです。デリゲーターは課せられる手数料率も監視すべきです。もしデリゲーターがバリデーターに不満があるなら、担保を取り戻すか、別のバリデーターに切り替えるかができます。
- ガバナンスに参加する。デリゲーターはガバナンスに積極的に参加することが可能であり、そう期待されています。あるデリゲーターの投票能力はステークのサイズに比例します。もしあるデリゲーターが投票しない場合、委任しているバリデーターの投票を継承します。それゆえデリゲーターはバリデーターと平衡するよう動くべきです。

## 報酬  
バリデーターとデリゲーターはサービスと引き換えに報酬を得ます。この報酬は3つの形態で与えられます。
- ブロック供給(Atom): 新規に作られたAtomで支払われます。ブロック供給よる報酬はAtom保有者がステークすることにインセンティブを与えるために存在します。年間インフレ率は、担保に入れられたステークの合計が2/3になるというターゲットあたりで変動します。もし担保に入れられたステークの合計がAtom供給量の2/3より少ない場合、インフレ率は20%まで上昇します。もし担保に入れられたステークの合計が2/3より多い場合、インフレーションは7%まで下落します。これは、担保に入れられたステークの合計が2/3より少ないならば、担保に入れていないAtom保有者はAtomの価値が年間20%下落すると予想することを意味します。
- ブロック報酬(Photon): Photonで支払われます。Photonの初期分配はEthereumチェーンのハードスプーンという形態をとります。Atom保有者は、スナップショットの日付や初期分配といった、このハードスプーンのパラメーターに投票します。加えて、担保に入れたAtom保有者はブロック報酬として新規に作られたPhotonを受け取ります。Photonは担保に入れた各Atom保有者のステークと固定比率で比例して分配されます。この比率はガバナンスにより決定されます。
- トランザクション手数料(様々なトークン): Cosmos Hubでの各転送にはトランザクション手数料があります。これらの手数料はHubのガバナンスによりホワイトリストに入れられた通貨ならどれでも支払えます。手数料は担保に入れたAtom保有者のステークに比例して分配されます。ローンチ時の最初のホワイトリストに入れられたトークンはAtomとPhotonです。

## バリデーターの手数料  
各バリデーターのステーキングプールは総ステークに比例して報酬を受け取ります。しかしながら、この報酬がステーキングプールにいるデリゲーターに分配される前にバリデーターは手数料を課すことができます。言い換えれば、デリゲーターは獲得する報酬についてバリデーターに手数料を支払わなければなりません。具体的な例を見てみましょう:  

ステーク(すなわち自己担保ステーク+委任されたステーク)が全バリデーターの総ステークの10%であるバリデーターを考えます。このバリデーターは20%の自己担保ステークを持っており、10%の手数料を課しています。以下の報酬を含むブロックを考えてください:

- ブロック供給に990Atom
- ブロック報酬に10Photon
- トランザクション手数料に10Atomと90Photon

この合計で1000Atomと100Photonになる量はすべてのステーキングプールの間で分配されます。  

想定しているバリデーターのステーキングプールは総ステークの10%を保有しており、これはこのプールが100Atomと10Photonを得ることを意味します。次は報酬の内部での分配を見てみましょう:  

- 手数料 = 10% * 80% * 100 Atoms + 10% * 80% * 10 Photons = 8 Atoms + 0.8 Photons
- バリデーターの報酬 = 20% * 100 Atoms + 20% * 10 Photons + 手数料 = 28 Atoms + 2.8 Photonss
- デリゲーターの総報酬 = 80% * 100 Atoms + 20% * 10 Photons - 手数料 = 72 Atoms  7.2 Photons

なお、ステーキングプールの各デリゲーターはデリゲーターの総報酬の比率に申し立てすることができます。

## リスク  
Atomをステーキングすることは無リスクではありません。第一に、ステークされたAtomはロックアップされ、取り戻すには3週間待つという期間、unbonding periodと呼ばれるのですが、これを必要とします。加えて、もしバリデーターが不正な挙動をすると、そのバリデーターの総ステークの一部は没収されうる、すなわち使えなくなります。これには委任しているデリゲーターのステークを含みます。  

3つの主な没収条件があります:  
- 二重署名: もし誰かが、あるバリデーターがチェーンAとチェーンBで同じブロック高で2つのブロックに署名していると通報すると、このバリデーターはチェーンAにて没収されます。
- 利用不可能性: もしバリデーターの署名が最後のXブロックに含まれなかった場合、Xに比例してわずかに没収されます。もしXがある限界Yを上回っていると、バリデーターは担保から戻されます。
- 無投票: もしバリデーターが提案に投票せず、いったん過失をだれかに通報されると、そのバリデーターのステークはすこしだけ没収されます。

これがなぜAtom保有者は委任する前にバリデーターに慎重なデューディリジェンスをするべき理由です。デリゲーターが積極的にバリデーターの活動を監視することも重要です。もしあるバリデーターが疑惑のある挙動をしたり、長い間オフラインであるならば、バリデーターから担保を取り戻すか、別のバリデーターに切り替えるかを選ぶことができます。デリゲーターは複数のバリデーターにまたがってステークを分配することでリスクを和らげることもできます。

## 実際にやってみる  
[加筆予定]Cosmos Hubはまだローンチしていないので、Atomはまだ利用できません。しかしながら、Cosmos Voyagerのalphaバージョンでトークンをステーキングしてみてもいいかもしれません。  

## ガバナンス  
[加筆予定]

